<!DOCTYPE html>
<html class="scroll-smooth" lang="pt-BR">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>Mentes em Jogo: A Jornada Filosófica</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=GFS+Didot&amp;family=Open+Sans&amp;display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="style.css">
</head>
<body class="min-h-screen flex flex-col bg-gradient-to-b from-[#0b1e3d] via-[#1a2e5a] to-[#0b1e3d] text-white">
  <div class="music-control" id="music-control">
    <i class="fas fa-music text-white text-xl"></i>
  </div>

  <header class="bg-gradient-to-r from-[#bfa14a] to-[#8c7a2a] shadow-md sticky top-0 z-50">
    <div class="max-w-7xl mx-auto flex items-center justify-between px-4 py-3 md:py-4">
      <div class="flex items-center space-x-3">
        <img alt="Ícone da coruja de Atena" class="w-12 h-12" height="48" src="images/avatars/coruja_sabia.png" width="48"/> <h1 class="font-greek text-2xl md:text-3xl font-semibold tracking-wide drop-shadow-md select-none">Mentes em Jogo</h1>
      </div>
      <nav class="hidden md:flex space-x-6 font-semibold text-white/90">
        <button class="hover:text-white transition-colors" id="btn-home">Início</button>
        <button class="hover:text-white transition-colors" id="btn-phases">Fases</button>
        <button class="hover:text-white transition-colors" id="btn-ranking">Ranking</button>
        <button class="hover:text-white transition-colors" id="btn-editor-nav">Editor</button> </nav>
      <button aria-label="Abrir menu" class="md:hidden text-white text-2xl hover:text-yellow-400 transition-colors" id="btn-menu">
        <i class="fas fa-bars"></i>
      </button>
    </div>
    <nav class="hidden md:hidden bg-[#bfa14a] text-[#0b1e3d] font-semibold" id="mobile-menu">
      <button class="block w-full text-left px-6 py-3 border-b border-yellow-700 hover:bg-yellow-300 transition-colors" id="m-btn-home">Início</button>
      <button class="block w-full text-left px-6 py-3 border-b border-yellow-700 hover:bg-yellow-300 transition-colors" id="m-btn-phases">Fases</button>
      <button class="block w-full text-left px-6 py-3 border-b border-yellow-700 hover:bg-yellow-300 transition-colors" id="m-btn-ranking">Ranking</button>
      <button class="block w-full text-left px-6 py-3 hover:bg-yellow-300 transition-colors" id="m-btn-editor-nav">Editor</button> </nav>
  </header>

  <main class="flex-grow max-w-7xl mx-auto px-4 py-6 md:py-10 w-full">
    <section class="space-y-6 max-w-4xl mx-auto text-center" id="home">
      <img alt="Imagem estilizada de colunas gregas antigas" class="mx-auto rounded-lg shadow-lg w-full max-w-xl object-cover h-64 md:h-80" src="https://storage.googleapis.com/a1aa/image/f12c4aea-8536-4289-7b45-0a6038bc63fe.jpg" />
      <h2 class="font-greek text-4xl md:text-5xl font-bold text-yellow-400 drop-shadow-lg">Mentes em Jogo: A Jornada Filosófica</h2>
      <p class="text-lg md:text-xl text-white/90 max-w-3xl mx-auto leading-relaxed">
        Um jogo educativo para explorar a Filosofia da Educação de forma interativa e divertida. Aprenda, revise e teste seus conhecimentos enquanto avança pelas fases.
      </p>
      <button class="mt-4 bg-yellow-400 text-[#0b1e3d] font-semibold px-8 py-3 rounded-lg shadow-lg hover:bg-yellow-500 transition-colors text-lg md:text-xl" id="start-game-btn">
        Começar a Jornada
      </button>
    </section>

    <section class="hidden max-w-md mx-auto bg-white/10 rounded-xl p-6 shadow-lg border border-yellow-400" id="register-section">
      <h2 class="font-greek text-3xl text-yellow-400 mb-6 text-center">Crie seu Perfil</h2>
      <div class="space-y-4">
        <div>
          <label class="block mb-1 font-semibold text-white/90" for="player-name-input">Nome ou Apelido:</label>
          <input type="text" id="player-name-input" class="w-full rounded-md bg-[#1a2e5a] border border-yellow-400 px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400" required>
        </div>
        
        <div>
          <label class="block mb-1 font-semibold text-white/90">Escolha seu Avatar:</label>
          <div class="grid grid-cols-3 sm:grid-cols-4 gap-4 mt-2" id="avatar-selection-container">
            </div>
        </div>
        
        <button class="mt-6 w-full bg-yellow-400 text-[#0b1e3d] font-semibold px-8 py-3 rounded-lg shadow-lg hover:bg-yellow-500 transition-colors" id="btn-start-actual-game">Iniciar Jogo</button>
      </div>
    </section>

    <section class="hidden max-w-5xl mx-auto space-y-8" id="phases-section">
      <h2 class="font-greek text-3xl text-yellow-400 mb-4 text-center">Fases do Jogo</h2>
      <div class="grid gap-6 md:gap-8 md:grid-cols-2" id="phases-grid-container">
        </div>
    </section>

    <section class="hidden max-w-4xl mx-auto bg-white/10 rounded-xl p-6 shadow-lg border border-yellow-400" id="quiz-section">
      <div class="flex justify-between items-center mb-4">
        <div class="flex items-center space-x-3">
          <img alt="Avatar do jogador" class="w-16 h-16 rounded-full border-2 border-yellow-400 shadow-md object-cover" id="quiz-avatar-img"/>
          <div>
            <h3 class="font-greek text-2xl text-yellow-400 font-semibold" id="quiz-phase-title"></h3>
            <p class="text-white/80 text-sm" id="quiz-player-name"></p>
          </div>
        </div>
        <div class="text-white/90 font-semibold text-sm md:text-base">
          Pergunta <span id="quiz-current-question">1</span> de <span id="quiz-total-questions">0</span>
        </div>
      </div>
      <div class="text-white text-xl md:text-2xl font-semibold mb-6 leading-relaxed min-h-[60px]" id="quiz-question-text"></div>
      <div class="grid gap-4" id="quiz-answers-container"></div>
      <div class="mt-6 text-lg font-semibold rounded-md p-4 hidden" id="quiz-feedback"></div>
      <div class="mt-2 text-white/90 italic hidden leading-normal" id="quiz-explanation"></div>
      <div class="mt-6 flex flex-col sm:flex-row justify-between items-center space-y-3 sm:space-y-0">
        <button class="w-full sm:w-auto bg-blue-500 hover:bg-blue-600 text-white font-semibold px-5 py-2 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed" id="quiz-btn-hint">
          <i class="fas fa-lightbulb mr-2"></i> Usar Dica (<span id="quiz-hints-left">2</span>)
        </button>
        <button class="w-full sm:w-auto bg-yellow-400 text-[#0b1e3d] font-semibold px-5 py-2 rounded-md hover:bg-yellow-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed" disabled id="quiz-btn-next">
          Próxima
        </button>
      </div>
    </section>

    <section class="hidden max-w-4xl mx-auto bg-white/10 rounded-xl p-6 shadow-lg border border-yellow-400 text-center" id="results-section">
      <h2 class="font-greek text-3xl text-yellow-400 mb-4">Resultado da Fase</h2>
      <p class="text-white/90 text-xl mb-4" id="results-score-text"></p>
      <div class="mb-6 flex justify-center space-x-6" id="results-medal-container"></div>
      <div id="results-feedback-message" class="text-white/90 text-lg mb-6"></div>
      <button class="bg-yellow-400 text-[#0b1e3d] font-semibold px-8 py-3 rounded-lg hover:bg-yellow-500 transition-colors" id="results-btn-next-phase">
        Avançar
      </button>
      <button class="mt-4 text-yellow-300 underline hover:text-yellow-400 transition-colors" id="results-btn-back-phases">
        Voltar para as fases
      </button>
    </section>

    <section class="hidden max-w-4xl mx-auto bg-white/10 rounded-xl p-6 shadow-lg border border-yellow-400" id="ranking-section">
      <h2 class="font-greek text-3xl text-yellow-400 mb-6 text-center">Ranking de Pontuação</h2>
      <div class="overflow-x-auto">
        <table class="w-full text-white/90 text-left border-collapse">
          <thead>
            <tr class="border-b border-yellow-400">
              <th class="py-3 px-2 sm:px-4 font-semibold">#</th>
              <th class="py-3 px-2 sm:px-4 font-semibold">Jogador</th>
              <th class="py-3 px-2 sm:px-4 font-semibold">Avatar</th>
              <th class="py-3 px-2 sm:px-4 font-semibold">Pontos</th>
              <th class="py-3 px-2 sm:px-4 font-semibold">Título</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-yellow-400/50" id="ranking-list-body"></tbody>
        </table>
      </div>
      <div class="mt-8 flex justify-center">
        <button class="bg-yellow-400 text-[#0b1e3d] font-semibold px-6 py-2 rounded-md hover:bg-yellow-500 transition-colors" id="ranking-btn-back">
          Voltar
        </button>
      </div>
    </section>

    <section class="hidden max-w-md mx-auto" id="editor-login-section">
      <div class="bg-white/10 rounded-xl p-6 shadow-lg border border-yellow-400">
        <h2 class="font-greek text-3xl text-yellow-400 mb-6 text-center">Acesso ao Editor</h2>
        <div class="space-y-4">
          <div>
            <label class="block mb-1 font-semibold text-white/90" for="editor-login-token">Token de Acesso:</label>
            <input type="password" id="editor-login-token" class="w-full rounded-md bg-[#1a2e5a] border border-yellow-400 px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400" required>
          </div>
          <button class="mt-4 w-full bg-yellow-400 text-[#0b1e3d] font-semibold px-8 py-3 rounded-lg shadow-lg hover:bg-yellow-500 transition-colors" id="editor-btn-login-access">
            Acessar Editor
          </button>
          <button class="mt-2 w-full text-yellow-300 underline hover:text-yellow-400 transition-colors" id="editor-login-btn-back">
            Voltar
          </button>
        </div>
      </div>
    </section>

    <section class="hidden max-w-4xl mx-auto bg-white/10 rounded-xl p-6 shadow-lg border border-yellow-400" id="editor-section">
      <h2 class="font-greek text-3xl text-yellow-400 mb-6 text-center">Editor de Conteúdo</h2>
      <div class="space-y-8">
        <div class="p-4 border border-yellow-400/50 rounded-lg bg-[#1a2e5a]/40">
          <h3 class="font-greek text-2xl text-yellow-300 mb-4 text-center">Gerenciar Perguntas</h3>
          <form class="space-y-4 text-white/90" id="editor-form-question">
            <div>
              <label class="block mb-1 font-semibold" for="editor-phase-select-for-question">Fase para Adicionar/Editar Perguntas:</label>
              <select class="w-full rounded-md bg-[#1a2e5a] border border-yellow-400 px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400" id="editor-phase-select-for-question" required>
                </select>
            </div>
            <div>
              <label class="block mb-1 font-semibold" for="editor-input-question-text">Pergunta:</label>
              <textarea class="w-full rounded-md bg-[#1a2e5a] border border-yellow-400 px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400" id="editor-input-question-text" required rows="3"></textarea>
            </div>
            <div>
              <label class="block mb-1 font-semibold">Alternativas (marque a correta):</label>
              <div class="space-y-2">
                {[1,2,3,4].map(i => `
                <div class="flex items-center space-x-3">
                  <input type="radio" name="editor-correct-answer-radio" value="${i-1}" id="editor-answer${i}-radio" required class="form-radio h-5 w-5 text-yellow-400 bg-[#0b1e3d] border-yellow-500 focus:ring-yellow-400 focus:ring-offset-0 cursor-pointer">
                  <input type="text" class="flex-grow rounded-md bg-[#1a2e5a] border border-yellow-400 px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400" id="editor-answer${i}-text" placeholder="Alternativa ${i}${i===4 ? ' (opcional)' : ''}" ${i<4 ? 'required': ''}>
                </div>
                `).join('')}
              </div>
            </div>
            <div>
              <label class="block mb-1 font-semibold" for="editor-input-explanation">Explicação (após resposta):</label>
              <textarea class="w-full rounded-md bg-[#1a2e5a] border border-yellow-400 px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400" id="editor-input-explanation" required rows="2"></textarea>
            </div>
            <button class="bg-yellow-400 text-[#0b1e3d] font-semibold px-6 py-2 rounded-md hover:bg-yellow-500 transition-colors" type="submit">
              Salvar Pergunta
            </button>
          </form>
        </div>

        <div class="p-4 border border-yellow-400/50 rounded-lg bg-[#1a2e5a]/40">
          <h3 class="font-greek text-2xl text-yellow-300 mb-4 text-center">Gerenciar Fases</h3>
          <div class="space-y-6 text-white/90">
            <div class="p-3 border border-yellow-600/30 rounded">
              <h4 class="font-semibold text-lg text-yellow-200 mb-2">Criar Nova Fase</h4>
              <div>
                <label class="block mb-1 font-semibold" for="editor-input-new-phase-title">Título da Nova Fase:</label>
                <input type="text" id="editor-input-new-phase-title" class="w-full rounded-md bg-[#1a2e5a] border border-yellow-400 px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400" placeholder="Ex: Consequências Modernas">
              </div>
              <div class="mt-2">
                <label class="block mb-1 font-semibold" for="editor-input-new-phase-theme">Tema/Descrição:</label>
                <textarea id="editor-input-new-phase-theme" class="w-full rounded-md bg-[#1a2e5a] border border-yellow-400 px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400" rows="2" placeholder="Ex: Impacto da tecnologia na filosofia"></textarea>
              </div>
              <button class="mt-3 bg-green-500 text-white font-semibold px-6 py-2 rounded-md hover:bg-green-600 transition-colors" type="button" id="editor-btn-save-new-phase">
                Salvar Nova Fase
              </button>
            </div>
            <div class="p-3 border border-yellow-600/30 rounded">
              <h4 class="font-semibold text-lg text-yellow-200 mb-2">Editar Fase Existente</h4>
              <div>
                <label class="block mb-1 font-semibold" for="editor-phase-select-for-edit">Selecione a Fase para Editar:</label>
                <select class="w-full rounded-md bg-[#1a2e5a] border border-yellow-400 px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400" id="editor-phase-select-for-edit">
                  </select>
              </div>
              <div class="mt-2">
                <label class="block mb-1 font-semibold" for="editor-input-edit-phase-title">Novo Título:</label>
                <input type="text" id="editor-input-edit-phase-title" class="w-full rounded-md bg-[#1a2e5a] border border-yellow-400 px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400">
              </div>
              <div class="mt-2">
                <label class="block mb-1 font-semibold" for="editor-input-edit-phase-theme">Novo Tema/Descrição:</label>
                <textarea id="editor-input-edit-phase-theme" class="w-full rounded-md bg-[#1a2e5a] border border-yellow-400 px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400" rows="2"></textarea>
              </div>
              <button class="mt-3 bg-blue-500 text-white font-semibold px-6 py-2 rounded-md hover:bg-blue-600 transition-colors" type="button" id="editor-btn-update-phase">
                Atualizar Fase
              </button>
            </div>
          </div>
        </div>
        
        <div class="p-4 border border-yellow-400/50 rounded-lg bg-[#1a2e5a]/40">
          <h3 class="font-greek text-2xl text-yellow-300 mb-4 text-center">Gerenciar Avatares</h3>
          <div class="space-y-4 text-white/90">
            <div>
              <label class="block mb-1 font-semibold" for="editor-input-avatar-filename">Nome do Arquivo do Avatar (em 'images/avatars/'):</label>
              <input type="text" id="editor-input-avatar-filename" class="w-full rounded-md bg-[#1a2e5a] border border-yellow-400 px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400" placeholder="ex: avatar_novo.png">
              <p class="text-xs text-yellow-200/70 mt-1">Coloque o arquivo na pasta 'images/avatars/' e digite o nome dele aqui (ex: meu_avatar.jpg).</p>
            </div>
            <button class="bg-purple-500 text-white font-semibold px-6 py-2 rounded-md hover:bg-purple-600 transition-colors" type="button" id="editor-btn-add-avatar">
              Adicionar Avatar
            </button>
            <div class="mt-2 text-sm text-white/70">
              <p class="font-semibold">Avatares Atuais (Caminhos relativos):</p>
              <ul id="editor-current-avatars-list" class="list-disc list-inside max-h-32 overflow-y-auto bg-[#0b1e3d]/50 p-2 rounded">
                </ul>
            </div>
          </div>
        </div>
      </div>

      <div class="mt-6 text-center font-semibold h-6" id="editor-feedback-message" aria-live="polite"></div>
      <button class="mt-8 text-yellow-300 underline hover:text-yellow-400 transition-colors mx-auto block" id="editor-btn-exit" type="button">
        Sair do Editor
      </button>
    </section>

    <section class="hidden max-w-4xl mx-auto bg-white/10 rounded-xl p-6 shadow-lg border border-yellow-400 text-center" id="completion-section">
      <h2 class="font-greek text-4xl text-yellow-400 mb-6">Parabéns!</h2>
      <p class="text-white/90 text-xl mb-6">Você concluiu todas as fases do jogo Mentes em Jogo!</p>
      <p class="text-white/80 text-lg mb-8" id="completion-final-feedback"></p>
      <div class="flex flex-col sm:flex-row justify-center space-y-3 sm:space-y-0 sm:space-x-4">
        <button class="bg-yellow-400 text-[#0b1e3d] font-semibold px-6 py-3 rounded-md hover:bg-yellow-500 transition-colors" id="completion-btn-ranking">
          Ver Ranking
        </button>
        <button class="bg-transparent border border-yellow-400 text-yellow-400 font-semibold px-6 py-3 rounded-md hover:bg-yellow-400/20 transition-colors" id="completion-btn-home">
          Voltar ao Início
        </button>
      </div>
    </section>
  </main>

  <audio id="background-music" loop>
    <source src="sons/background-music.mp3" type="audio/mpeg">
    Seu navegador não suporta o elemento de áudio.
  </audio>
  <audio id="correct-sound" src="sons/correct.mp3"></audio>
  <audio id="wrong-sound" src="sons/wrong.mp3"></audio>
  <audio id="complete-sound" src="sons/complete.mp3"></audio>

  <script src="script.js"></script>
</body>
</html>